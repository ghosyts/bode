if(window.CCAPTCHA)window.CCAPTCHA.setup();else{let e={XHR_DONE:4,XHR_OK:200,INTERACT_THRESHOLD_MIN:2,INTERACT_THRESHOLD_MAX:4,VERSION:"1.0.3",formInteractionsCount:{},createCaptchaInProgress:{},formAlreadySet:function(e){return null!=document.getElementById(e).querySelector("input[name='cc-id']")},createCaptcha:function(t){const n=t.currentTarget?t.currentTarget.getAttribute("id"):null;if(n){if(e.formAlreadySet(n))return;let t=document.getElementById(n);t.removeEventListener("mouseenter",e.createCaptcha),t.removeEventListener("touchstart",e.createCaptcha),e.formInteractionsCount[n]=1,e.createCaptchaInProgress[n]=!1;let a=0,r=t.getElementsByTagName("input");if(r&&r.length>0)for(let e=0;e<r.length;e++){let t=r[e];"text"!==t.type&&"email"!==t.type||""!==t.value||a++}let c=t.getElementsByTagName("textarea");if(c)for(let e=0;e<c.length;e++)""===c[e].value&&a++;if(a<e.INTERACT_THRESHOLD_MIN?a=e.INTERACT_THRESHOLD_MIN:a>e.INTERACT_THRESHOLD_MAX&&(a=e.INTERACT_THRESHOLD_MAX),r&&r.length>0)for(let t=0;t<r.length;t++){let c=r[t];switch(c.type){case"file":case"image":case"button":case"reset":case"checkbox":case"radio":c.setAttribute("data-cc-formId",n),c.setAttribute("data-cc-threshold",a),c.addEventListener("mouseover",e.setInteraction),c.addEventListener("click",e.setInteraction),c.addEventListener("touchstart",e.createCaptcha);break;default:c.setAttribute("data-cc-formId",n),c.setAttribute("data-cc-threshold",a),c.addEventListener("keypress",e.setInteraction),c.addEventListener("mouseover",e.setInteraction),c.addEventListener("touchstart",e.createCaptcha)}}if(c&&c.length>0)for(let t=0;t<c.length;t++){let r=c[t];r.setAttribute("data-cc-formId",n),r.setAttribute("data-cc-threshold",a),r.addEventListener("keypress",e.setInteraction),r.addEventListener("click",e.setInteraction)}}},setInteraction:function(t){const n=t.currentTarget?t.currentTarget.getAttribute("data-cc-formId"):null;if(n){const a=t.currentTarget.getAttribute("data-cc-threshold");e.formAlreadySet(n)||(e.formInteractionsCount[n]++,e.formInteractionsCount[n]>=a?e.createCaptchaInProgress[n]||(e.createCaptchaInProgress[n]=!0,e.fetchCaptcha(n),console.log("event: "+t.type+" target: "+t.target.type+" form: "+n+" #: "+e.formInteractionsCount[n]+" fetching captcha")):console.log("event: "+t.type+" target: "+t.target.type+" form: "+n+" #: "+e.formInteractionsCount[n]+" threshold:"+a))}},fetchCaptcha:function(t){if(e.formAlreadySet(t))return;let n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===e.XHR_DONE&&n.status===e.XHR_OK){let a;a="json"===n.responseType?n.response:JSON.parse(n.responseText).message,e.setCaptcha(t,a)}},n.timeout=2500,n.responseType="json",n.open("POST","https://camilyo-captcha.azurewebsites.net/api/Create?code=KBg2MYED65a5JHILacd4j8PatsXMc5H2zYtl09aJnRvZb27MEEBmhg=="),n.send()},setCaptcha:function(t,n){if(e.formAlreadySet(t))return;let a=document.getElementById(t);if(null!=a.querySelector("input[name='cc-id']"))return;let r=document.createElement("input");r.name="cc-ntotal",r.type="hidden",r.value=n.n1+n.n2,a.appendChild(r);let c=document.createElement("input");c.name="cc-id",c.type="hidden",c.value=n.id,a.appendChild(c),e.createCaptchaInProgress[t]=!0},setup:function(){let t=document.querySelectorAll("form");t.length>0&&t.forEach(t=>{t.addEventListener("mouseenter",e.createCaptcha),t.addEventListener("touchstart",e.createCaptcha)})}};"complete"===document.readyState?e.setup():document.addEventListener("DOMContentLoaded",e.setup)}